<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>

<body data-bs-theme="dark">
    <div id="body">
        <div id="parametrs">
            <input type="text" class="form-control" id="pole1" placeholder="test2" aria-label=""
                aria-describedby="basic-addon1" /></input>
            <input type="text" class="form-control" id="pole2" placeholder="test2" aria-label=""
                aria-describedby="basic-addon1" /></input>
            <input type="text" class="form-control" id="pole3" placeholder="test2" aria-label=""
                aria-describedby="basic-addon1" /></input>
            <input type="text" class="form-control" id="pole4" placeholder="test2" aria-label=""
                aria-describedby="basic-addon1" /></input>
            <input type="text" class="form-control" id="pole5" placeholder="test2" aria-label=""
                aria-describedby="basic-addon1" /></input>
        </div>
        <div class="badge bg-primary text-wrap" name="textresultat" id="textresultat">текст</div>
    </div>
    <table id=""inventory>
        <tr>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
        </tr>
        <tr>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
        </tr>
        <tr>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
        </tr>
        <tr>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
        </tr>
        <tr>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
            <th class="tables"></th>
        </tr>
    </table>
</body>
<style>
    #parametrs {
        width: 5%;
        margin: 10px;
    }

    #body {
        display: flex;
        flex-wrap: nowrap;
    }

    .badge.bg-primary.text-wrap {
        width: 40%;
        margin: 10px;
        font-size: 32px;
    }
    .tables{
        width: 50px;
        height: 50px;
        border: var(--bs-border-width) solid #969696;
        text-align: center;
        color: white;
        font-size: 23px;
        text-shadow: 1px 1px 2px red, 0 0 1em blue, 0 0 0.2em blue;
    }
    .divan{
        background-image: url("CurrencyRerollRare.png");
    }
</style>
<script>
    // 
    // let date = getItem("PoE_Trade")
    console.log(localStorage.getItem("PoE_Trade"))
    if (!localStorage.getItem("PoE_Trade")) {
        
        data = {
            chaos: "170",
            divans: "1",
            stacks: "20"
    }

        // console.log(JSON.stringify(data))

        // console.log(JSON.parse(JSON.stringify(data)))
        localStorage.setItem("PoE_Trade", JSON.stringify(data))
        console.log("test")
    }else{
        data = JSON.parse(localStorage.getItem("PoE_Trade"))
        
    }
    document.getElementById("pole1").value = data["chaos"] 
    document.getElementById("pole2").value = data["divans"]
    document.getElementById("pole3").value = data["stacks"]
    document.getElementById("pole4").value = "1"
    document.getElementById("pole5").value = "1"

    document.getElementById("pole1").oninput = calc
    document.getElementById("pole2").oninput = calc
    document.getElementById("pole3").oninput = calc
    document.getElementById("pole4").oninput = calc
    document.getElementById("pole5").oninput = calc
    /////////////////////////////////////////////
    calc()

    function calc() {
        
        let chaos = document.getElementById("pole1").value
        let divans = document.getElementById("pole2").value
        let stacks = document.getElementById("pole3").value

        data["chaos"] = chaos
        data["divans"] = divans
        data["stacks"] = stacks
        localStorage.setItem("PoE_Trade", JSON.stringify(data))
        console.log(data)

        document.getElementById("textresultat").textContent = "Стопок: "
            + Math.floor((chaos * divans) / stacks)
            + " \r Остаток: " + (chaos * divans) % stacks
            + " \n / Столбцов: " + Math.floor((chaos * divans) / stacks) / 5
            + " стопки: " + Math.floor((chaos * divans) / stacks) % 5
    }
    genDivan()
    function genDivan()
    {
        // divan
        let col1 =((data["chaos"] * data["divans"])/stacks)
        let col2 = (data["chaos"] * data["divans"])%stacks
        let col3 = Math.floor((data["chaos"] * data["divans"]) / stacks) / 5
        let col4 = Math.floor((data["chaos"] * data["divans"]) / stacks) % 5
        allTabl = document.getElementsByClassName("tables")
        for (let i = 0; i < allTabl.length; i++) {
            allTabl[i].classList.add("divan");
            console.log(i)
            
        }

    }

</script>