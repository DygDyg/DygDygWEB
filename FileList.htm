<!DOCTYPE html>
<html lang="ru">
<script src="./scripts/jquery.min.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">file list</title>
</head>

<body>
    <div id="table"></div>
</body>
<style>
    @font-face {
        font-family: clacon2;
        src: url('./fonts/clacon2.woff2') format("woff2"),
            url('./fonts/clacon2.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
    }
    :root {
        cursor: url('./cursor.png'), auto;
        
        font-family: "clacon2", "Arial", sans-serif;
        background-color: #000075;
        color: #6fcbcb;
        user-select: none;
    }



    /* body {

    } */

    #table {
        display: flex;
        flex-wrap: nowrap;
        flex-direction: row;
    }

    .list {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: stretch;
        width: 128px;
        border: solid;
    }

    .file {
        /* display: table; */
        padding: 2px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

    }

    .file:hover {
        color: #00076b;
        background-color: #009797;
    }

    .directory {
        color: #b9cdcd;
    }
</style>
<script>
    console.log("jquery", $.fn.jquery)
    var database = {}
    var line = null
    var column = 0

    function sort1(o1, o2) {
        return o1.type.localeCompare(o2.type)
    }

    $.get('./DataList.json', function (data, status) {
        inte = 0
        database = data.children

        database.sort(sort1)
        console.log(database)
        database.forEach(e => {
            select_button(e.name, e.type)
        });
    });
    function select_button(name, type) {
        if (line == null || line == 0) $('#table').append(`<div id="list${column}"class="list"></div>`)
        if (line < 20) {
            line++
        } else {
            line = 0
            column++
            // $('#table').append(`<div id="list${column}"class="list"></div>`)

        }
        $('#list' + column).append(`<div class='file ${type}'>${name}</div>`)
    }
</script>

</html>